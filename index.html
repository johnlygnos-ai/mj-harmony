<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MJ Harmony</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: linear-gradient(to top, #4b0082, #8a2be2);
      background-attachment: fixed;
      color: #333;
      overflow-x: hidden;
    }
    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: url('https://i.ibb.co/VJg8RzX/clouds-soft.png') repeat;
      background-size: cover;
      opacity: 0.2;
      z-index: 0;
    }
    header {
      text-align: center;
      padding: 1rem;
      font-size: 2.2rem;
      font-family: 'Great Vibes', cursive;
      color: white;
      background: rgba(0,0,0,0.3);
      position: relative;
      z-index: 1;
    }
    nav {
      display: flex;
      justify-content: space-around;
      background: rgba(255,255,255,0.8);
      position: fixed;
      bottom: 0;
      width: 100%;
      z-index: 1;
    }
    nav button {
      flex: 1;
      padding: 1rem;
      border: none;
      background: none;
      font-weight: 600;
      color: #4b0082;
      cursor: pointer;
    }
    section {
      padding: 1rem;
      display: none;
      flex: 1;
      overflow-y: auto;
      position: relative;
      z-index: 1;
    }
    section.active { display: block; }
    h2 {
      margin-top: 0;
      font-size: 1.4rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: #4b0082;
    }
    .card {
      background: rgba(255,255,255,0.9);
      border-radius: 15px;
      padding: 1rem;
      margin-bottom: 1rem;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .verse-hint {
      font-style: italic;
      font-size: 0.9rem;
      margin-top: 0.5rem;
      color: #1e3a8a;
    }
    input {
      border-radius: 10px;
      border: none;
      padding: 0.6rem;
      margin-top: 0.5rem;
      width: 70%;
    }
    button.add-btn {
      background: #6a0dad;
      color: white;
      border: none;
      padding: 0.6rem 1rem;
      border-radius: 50px;
      margin-left: 0.5rem;
      cursor: pointer;
    }
    #recordButton {
      background: #6a0dad;
      border: none;
      padding: 1rem 2rem;
      border-radius: 50px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    #recordButton.recording { background: red; transform: scale(1.1); }
    audio { margin-top: 0.5rem; width: 100%; }
  </style>
</head>
<body>
  <header>MJ Harmony ğŸ’œğŸ¶</header>

  <main>
    <section id="calendar" class="active">
      <h2>ğŸ“… Calendar</h2>
      <div class="card">
        <h3>Rehearsals</h3>
        <ul id="rehearsals"></ul>
        <input id="rehInput" placeholder="Add rehearsal..." />
        <button class="add-btn" onclick="addItem('rehearsals','rehInput')">â•</button>
        <p class="verse-hint">â€œFor everything there is a seasonâ€ (Ecclesiastes 3:1)</p>
      </div>
      <div class="card">
        <h3>Live Dates</h3>
        <ul id="lives"></ul>
        <input id="liveInput" placeholder="Add live date..." />
        <button class="add-btn" onclick="addItem('lives','liveInput')">â•</button>
      </div>
    </section>

    <section id="songs">
      <h2>ğŸ¶ Our Songs</h2>
      <div class="card">
        <ul id="songsList"></ul>
        <input id="songInput" placeholder="Add song title..." />
        <button class="add-btn" onclick="addItem('songsList','songInput')">â•</button>
        <p class="verse-hint">â€œSing to the Lord a new songâ€ (Psalm 96:1)</p>
      </div>
    </section>

    <section id="tasks">
      <h2>âœ… Tasks</h2>
      <div class="card">
        <ul id="tasksList"></ul>
        <input id="taskInput" placeholder="Add task..." />
        <button class="add-btn" onclick="addItem('tasksList','taskInput')">â•</button>
        <p class="verse-hint">â€œCommit your work to the Lordâ€ (Proverbs 16:3)</p>
      </div>
    </section>

    <section id="ideas">
      <h2>ğŸ’¡ Ideas / Jams ğŸ™ï¸</h2>
      <div class="card">
        <button id="recordButton">Start Recording</button>
      </div>
      <div class="card recordings">
        <h3>Saved Recordings</h3>
        <ul id="recordingsList"></ul>
      </div>
      <p class="verse-hint">â€œMake melody in your heart to the Lordâ€ (Ephesians 5:19)</p>
    </section>

    <section id="verses">
      <h2>ğŸ“– Verses</h2>
      <div class="card">
        <ul id="versesList">
          <li>"The Lord is my shepherd; I shall not want." (Psalm 23:1)</li>
          <li>"I can do all things through Christ who strengthens me." (Philippians 4:13)</li>
          <li>"The joy of the Lord is my strength." (Nehemiah 8:10)</li>
        </ul>
        <input id="verseInput" placeholder="Add your favorite verse..." />
        <button class="add-btn" onclick="addItem('versesList','verseInput')">â•</button>
      </div>
    </section>
  </main>

  <nav>
    <button onclick="showSection('calendar')">ğŸ“…</button>
    <button onclick="showSection('songs')">ğŸ¶</button>
    <button onclick="showSection('tasks')">âœ…</button>
    <button onclick="showSection('ideas')">ğŸ’¡</button>
    <button onclick="showSection('verses')">ğŸ“–</button>
  </nav>

  <script>
    function showSection(id) {
      document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }
    function addItem(listId, inputId) {
      const ul = document.getElementById(listId);
      const input = document.getElementById(inputId);
      if (input.value.trim() !== "") {
        const li = document.createElement('li');
        li.textContent = input.value;
        ul.appendChild(li);
        input.value = "";
      }
    }
    // Audio Recording
    let mediaRecorder; let chunks = [];
    const recordButton = document.getElementById('recordButton');
    const recordingsList = document.getElementById('recordingsList');
    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
      navigator.mediaDevices.getUserMedia({ audio: true }).then(stream => {
        mediaRecorder = new MediaRecorder(stream);
        mediaRecorder.ondataavailable = e => chunks.push(e.data);
        mediaRecorder.onstop = e => {
          const blob = new Blob(chunks, { type: 'audio/ogg; codecs=opus' });
          chunks = [];
          const audioURL = URL.createObjectURL(blob);
          const li = document.createElement('li');
          const audio = document.createElement('audio');
          audio.controls = true; audio.src = audioURL;
          li.appendChild(audio);
          recordingsList.appendChild(li);
        };
        recordButton.onclick = () => {
          if (mediaRecorder.state === 'recording') {
            mediaRecorder.stop();
            recordButton.textContent = 'Start Recording';
            recordButton.classList.remove('recording');
          } else {
            mediaRecorder.start();
            recordButton.textContent = 'Stop Recording';
            recordButton.classList.add('recording');
          }
        };
      });
    }
  </script>
</body>
</html>